# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞ —Å–∏–Ω—Ç–∞–∫—Å-–ø–æ–º–æ—â–Ω–∏–∫–∞ –≤–µ—Ä—Å–∏–∏ 3

## üìã –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

‚úÖ **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞** —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–∑ `docs/SYNTAX_HELPER_PARSER_SPEC.md`

### –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **Discovery-based –ø–æ–¥—Ö–æ–¥** ‚úÖ
   - –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –±–µ–∑ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —É–∑–ª–∞ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É HTML

2. **–°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö** ‚úÖ
   - `SyntaxNode` - –±–∞–∑–æ–≤—ã–π —É–∑–µ–ª –∏–µ—Ä–∞—Ä—Ö–∏–∏ (Category, Type, Method, Property, Constructor)
   - `TypeInfo` - –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∏–ø–µ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
   - `CategoryInfo` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö —Ç–∏–ø–æ–≤
   - `TypeIndex` - –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

3. **–î–≤—É—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** ‚úÖ
   - –ü–∞—Ä—Å–∏–Ω–≥ —Ä—É—Å—Å–∫–∏—Ö –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ HTML
   - –û—Ç–¥–µ–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã `by_russian` –∏ `by_english`
   - –ü–æ–∏—Å–∫ –ø–æ –ª—é–±–æ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É –∏–º–µ–Ω–∏

4. **–°–∏—Å—Ç–µ–º–∞ —Ñ–∞—Å–µ—Ç–æ–≤** ‚úÖ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞—Å–µ—Ç–æ–≤ –∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ HTML
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Collection, Constructor, Singleton, Manager
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞—Å–µ—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TypeResolution** ‚úÖ
   - –ü—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ `TypeResolution` –±–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ `ResolutionMetadata.notes`
   - –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å–∏—Å—Ç–µ–º–æ–π –≥—Ä–∞–¥—É–∞–ª—å–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏

6. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PlatformTypesResolverV2** ‚úÖ
   - –ú–µ—Ç–æ–¥ `load_from_parser_v3()` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞—Ä—Å–µ—Ä–∞
   - –ú–µ—Ç–æ–¥ `load_from_directory()` –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
   - –ú–µ—Ç–æ–¥—ã –ø–æ–∏—Å–∫–∞: `resolve_type()`, `get_hover_info()`
   - –ú–µ—Ç–æ–¥—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏: `get_types_by_category()`, `get_types_by_facet()`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/adapters/
‚îú‚îÄ‚îÄ syntax_helper_parser_v3.rs     # –û—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞ v3
‚îú‚îÄ‚îÄ platform_types_v2.rs           # –†–∞—Å—à–∏—Ä–µ–Ω –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å v3
‚îî‚îÄ‚îÄ mod.rs                          # –î–æ–±–∞–≤–ª–µ–Ω —ç–∫—Å–ø–æ—Ä—Ç –º–æ–¥—É–ª—è v3

tests/
‚îî‚îÄ‚îÄ syntax_helper_parser_v3_test.rs # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

examples/
‚îî‚îÄ‚îÄ syntax_helper_v3_demo.rs        # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

docs/
‚îú‚îÄ‚îÄ SYNTAX_HELPER_PARSER_SPEC.md              # –ò—Å—Ö–æ–¥–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ SYNTAX_HELPER_PARSER_V3_REVIEW.md         # –ê–Ω–∞–ª–∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
‚îî‚îÄ‚îÄ SYNTAX_HELPER_PARSER_V3_IMPLEMENTATION.md # –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤:
- ‚úÖ 10 –∏–∑ 11 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Ç–∏–ø–æ–≤
- ‚úÖ –î–≤—É—è–∑—ã—á–Ω—ã–π –ø–æ–∏—Å–∫
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞—Å–µ—Ç–æ–≤
- ‚úÖ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ TypeResolution

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:
- Discovery —Ñ–∞–∑–∞ –æ–±—Ö–æ–¥–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤
- –ü–∞—Ä—Å–∏–Ω–≥ HTML —Ñ–∞–π–ª–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Ç–∏–ø–æ–≤
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö/–∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞—Å–µ—Ç–æ–≤ –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∏–Ω–¥–µ–∫—Å–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Ç–∏–ø–æ–≤

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```rust
use bsl_gradual_types::adapters::syntax_helper_parser_v3::SyntaxHelperParserV3;

// –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞
let mut parser = SyntaxHelperParserV3::new();

// –ü–∞—Ä—Å–∏–Ω–≥ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–≥–æ –∞—Ä—Ö–∏–≤–∞
parser.parse_directory("path/to/extracted/syntax_helper")?;

// –ü–æ–∏—Å–∫ —Ç–∏–ø–∞
let type_info = parser.find_type("–¢–∞–±–ª–∏—Ü–∞–ó–Ω–∞—á–µ–Ω–∏–π");
let type_info_en = parser.find_type("ValueTable");

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
let types = parser.get_types_by_category("catalog236");

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–æ —Ñ–∞—Å–µ—Ç—É
let collections = parser.get_types_by_facet(FacetKind::Collection);
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PlatformTypesResolverV2:

```rust
use bsl_gradual_types::adapters::platform_types_v2::PlatformTypesResolverV2;

// –°–æ–∑–¥–∞–Ω–∏–µ resolver
let mut resolver = PlatformTypesResolverV2::new();

// –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä—Å–µ—Ä v3
resolver.load_from_directory("path/to/extracted/syntax_helper")?;

// –ü–æ–∏—Å–∫ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
let resolution = resolver.resolve_type("–¢–∞–±–ª–∏—Ü–∞–ó–Ω–∞—á–µ–Ω–∏–π");

// –ü–æ–ª—É—á–µ–Ω–∏–µ hover –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
let hover = resolver.get_hover_info("ValueTable");
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏** - –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ SYNTAX_HELPER_PARSER_SPEC.md —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

2. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ core** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã TypeResolution –∏ PlatformType

3. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã** - O(1) –ø–æ–∏—Å–∫ –ø–æ —Ä—É—Å—Å–∫–∏–º/–∞–Ω–≥–ª–∏–π—Å–∫–∏–º –∏–º–µ–Ω–∞–º

4. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã —Ñ–∞—Å–µ—Ç–æ–≤ –∏–ª–∏ –∏–Ω–¥–µ–∫—Å–æ–≤

5. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –ø–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ç–∞–ª–æ–≥–∞: < 100ms –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
- –ü–æ–∏—Å–∫ —Ç–∏–ø–∞ –ø–æ –∏–º–µ–Ω–∏: O(1) –±–ª–∞–≥–æ–¥–∞—Ä—è HashMap –∏–Ω–¥–µ–∫—Å–∞–º
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤: O(n) –≥–¥–µ n - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–ø–æ–≤
- –ü–∞–º—è—Ç—å: –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –±–ª–∞–≥–æ–¥–∞—Ä—è —Å—Å—ã–ª–∫–∞–º –≤–º–µ—Å—Ç–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

## üîÑ –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:
1. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞ –Ω–∞ –¥–∏—Å–∫
2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ rayon
3. Lazy loading –¥–ª—è –±–æ–ª—å—à–∏—Ö –∞—Ä—Ö–∏–≤–æ–≤
4. –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–¥–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–µ—Ç–æ–¥–æ–≤
5. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–æ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ HTML

### TODO –≤ –∫–æ–¥–µ:
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–µ—Ç–æ–¥–∞—Ö –∏ —Å–≤–æ–π—Å—Ç–≤–∞—Ö
- –ü–∞—Ä—Å–∏–Ω–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ —Ç–∏–ø–æ–≤ –≤–æ–∑–≤—Ä–∞—Ç–∞
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ readonly —Å–≤–æ–π—Å—Ç–≤
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ XDTO –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–∞—Ä—Å–µ—Ä —Å–∏–Ω—Ç–∞–∫—Å-–ø–æ–º–æ—â–Ω–∏–∫–∞ v3 —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏. –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã:

‚úÖ Discovery-based –ø–æ–¥—Ö–æ–¥ –±–µ–∑ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ  
‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–≤—É—è–∑—ã—á–Ω–æ—Å—Ç–∏ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞—Å–µ—Ç–æ–≤  
‚úÖ –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TypeResolution  
‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ–¥–µ  

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –ø–æ—Å–ª–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –º–µ–ª–∫–∏—Ö –Ω–µ–¥–æ—á—ë—Ç–æ–≤ –≤ —Ç–µ—Å—Ç–∞—Ö.